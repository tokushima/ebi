<rt:extends href="base.html" />

<rt:block name="content">

<p class="h3">
	{$mail_info.opt('x_t_code')}
</p>

<div class="alert alert-secondary" style="margin-top: 10px; margin-bottom: 50px;">
	{$t.html($mail_info.document())}
</div>

<div class="card border-secondary mb-3">
	<div class="card-header text-white bg-info">Infomation</div>
	<div class="card-body text-secondary">
		<table class="table table-sm table-bordered table-striped">
		<tr>
			<th>Template</th>
			<td>
				{$mail_info.name()}
			</td>
		</tr>
		<tr>
			<th>Version</th>
			<td>
				<rt:if param="{$t.eq($mail_info.version(),$method_info.version())}">
					{$mail_info.version()}
				<rt:else />
					<span class="text-danger">{$mail_info.version()}</span>
				
					<div class="alert alert-danger" role="alert">
						Version do not match
					</div>
				</rt:if>
			</td>
		</tr>
		<tr>
			<th>Method</th>
			<td>
				<div class="{$t.cond_switch($method_info.opt('deprecated'),'deprecated','')}">
					<a href="{$t.package_method_url('class_method_doc',$method_info.opt('class'),$method_info.opt('method'))}">
						{$method_info.name()}
					</a>
					
					<span class="text-muted">
						( <span style="font-size: x-small;">Version: {$method_info.version()}</span> )
					</span>
				</div>
				
				<rt:if param="{$mail_info.opt('method_summary')}">
					<blockquote>
						{$t.html($mail_info.opt('method_summary'))}
					</blockquote>
				</rt:if>
			</td>
		</tr>
		</table>
	</div>
</div>


<rt:if param="{$mail_info.params()}">
	<div class="panel panel-success">
		<div class="panel-heading">
			<h3 class="panel-title">Vars</h3>
		</div>
		<div class="panel-body">
			<rt:if param="{$mail_info.params()}">
				<table rt:param="{$mail_info.params()}" rt:var="param" class="table table-sm table-bordered table-striped panel-body-table">
				<tr>
					<td  class="t1">
						{$param.name()}
					</td>
					<td class="t2">
						<rt:if param="{$param.is_type_class()}">
							<a href="{$t.package_method_url('class_doc',$param.plain_type())}">
								{$param.fm_type()}
							</a>
						<rt:else />
							{$param.fm_type()}
						</rt:if>
					</td>

					<td class="t3">
						{$t.html($param.summary())}
					</td>
				</tr>	
				</table>
			</rt:if>
		</div>
	</div>
</rt:if>


<div class="panel panel-default">
	<div class="panel-heading">
		<h3 class="panel-title">Template</h3>
	</div>
	<div class="panel-body">
		<table class="table table-sm table-bordered table-striped panel-body-table">
		<tr>
			<th>Subject</th>
			<td>{$mail_info.opt('subject')}</td>
		</tr>
		<tr>
			<th>Body</th>
			<td>
				<pre style="white-space: pre-wrap;">{$t.html($mail_info.opt('body'),0,0,null,false)}</pre>
			</td>
		</tr>
		
		<rt:if param="{$mail_info.opt('html')}">
		<tr>
			<th>HTML</th>
			<td>
				<pre style="white-space: pre-wrap;">{$t.html($mail_info.opt('html'),0,0,null,false)}</pre>
			</td>
		</tr>
		</rt:if>
		</table>
	</div>
</div>

</rt:block>

