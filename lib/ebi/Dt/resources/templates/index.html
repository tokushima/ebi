<rt:extends href="base.html" />

<rt:block name="content">
	<table rt:param="map_list" rt:var="map" rt:counter="count" class="table table-sm table-sm table-condensed table-striped">
	<thead>
	<tr class="text-muted">
		<th style="width: 30px;"></th>
		<th style="width: 250px;">Url</th>
		<th style="width: 250px;">Name</th>	
		<th style="width: 30px;"></th>		
		<th>Version</th>
		<th>Summary</th>
		<th style="width: 50px;"></th>
	</tr>
	</thead>
	<tbody>
	<tr style="{$t.cond_switch($map['first_depricated_date'],'color: #cc6666;','')} {$t.cond_switch($map['mode'],' color: #6666cc; font-style: italic; ','')}">
		<td style="{$t.cond_switch($map['deprecated'],'text-decoration: line-through;','')}">
		
			<div class="modal" tabindex="-1" role="dialog" id="info{$count}">
				<div class="modal-dialog" role="document">
					<div class="modal-content">
						<div class="modal-header">
							{$map['name']}

							<rt:if param="{$map['deprecated']}">
								(Deprecated)
							</rt:if>
							<button type="button" class="close" data-dismiss="modal" aria-label="Close">
								<span aria-hidden="true">&times;</span>
							</button>
						</div>
						<div class="modal-body">
						<code class="text-secondary">{$t.html($f.dump($map))}</code>
						</div>
						<div class="modal-footer">
						</div>
					</div>
				</div>
			</div>
		
			<a data-toggle="modal" data-target="#info{$count}">
				<i data-feather="info"></i>
			</a>
		</td>
		<td style="{$t.cond_switch($map['deprecated'],'text-decoration: line-through;','')}" nowrap>
			{$map['url']}
		</td>
		
		<td style="{$t.cond_switch($map['deprecated'],'text-decoration: line-through;','')}" nowrap>
			<rt:if param="{$map['class']}">
				<a href="{$t.package_method_url('index_action_doc',$map['name'])}" style="{$t.cond_switch($map['first_depricated_date'],'color: #cc6666;','')}">{$map['name']}</a>
			<rt:else />
				{$map['name']}
			</rt:if>
		</td>
		<td style="opacity: 0.6 {$t.cond_switch($map['deprecated'],'text-decoration: line-through;','')}">
			<rt:if param="{$map['login']}">
				<i data-feather="user"></i>
			</rt:if>
		</td>
		<td style="opacity: 0.6 {$t.cond_switch($map['deprecated'],'text-decoration: line-through;','')}">
			<a href="{$t.package_method_url('index')}?version={$map['version']}">
				{$map['version']}
			</a>
		</td>
		<td style="{$t.cond_switch($map['deprecated'],'text-decoration: line-through;','')}">
			<span>
				{$t.html($map['summary'])}
			</span>
			<span style="color:#ff0000; font-weight: bold;">{$map['error']}</span>
		</td>
		
		<td>
			<div class="modal" tabindex="-1" role="dialog" id="link{$count}">
				<div class="modal-dialog  modal-lg" role="document">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title">{$map['name']}</h5>
							
							<button type="button" class="close" data-dismiss="modal" aria-label="Close">
								<span aria-hidden="true">&times;</span>
							</button>
						</div>
						<div class="modal-body">
							<div class="alert alert-secondary" role="alert">
								{$map['summary']}
							</div>
							
							<form name="linkdata{$count}">
								<input type="text" name="url" value="{$map['format']}" class="form-control" />
								<textarea name="query" class="form-control" rows="5" style="margin-top: 10px;" placeholder='{"key1":"value","key2":"value"}'></textarea>
							</form>
						</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-default" onclick="submit_linkform(linkdata{$count},'post')">POST</button>
							<button type="button" class="btn btn-primary" onclick="submit_linkform(linkdata{$count},'get')">GET</button>
						</div>
					</div>
				</div>
			</div>
		
			<div style="text-align: right;">
				<rt:if param="{$map['first_depricated_date']}">
					<rt:if param="{$map['deprecated']}">
						<i data-feather="slash"></i>
					<rt:else />
						<i data-feather="alert-circle"></i>
					</rt:if>
				</rt:if>
				
				<a href="#" data-toggle="modal" data-target="#link{$count}">
					<i data-feather="globe"></i>
				</a>
			</div>
		</td>
	</tr>
	</tbody>
	</table>
	
	
	<hr />
	
	<div style="text-align: right;" class="text-muted">
		<i data-feather="user"></i> Login required
		<i data-feather="alert-circle"></i> Deprecated items
		<i data-feather="slash"></i> Deprecated Action
	</div>
	
</rt:block>
